{% extends 'layouts/base.html' %}
{% import 'macros/items.html' as items %}
{% import 'macros/form.html' as f with context %}

{% block body %}
  <div class="row">
    <div class="col-lg-12">
      <h3 class="page-header"><i class="fa fa-th-list"></i> 成员管理</h3>
      <ol class="breadcrumb">
        <li><i class="fa fa-home"></i><a href="{{ url_for('admin.index') }}">Home</a></li>
        <li><i class="icon_document_alt"></i>菜单</li>
        <li><i class="fa fa-th-list"></i>成员管理</li>
      </ol>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <section class="panel">
        <header class="panel-heading">
          {{ f.search('admin.users') }}
        </header>
        <header class="panel-heading">
          <a class="btn btn-default" href="{{ url_for('admin.users_new') }}">添加</a>
        </header>

        <table class="table table-striped table-advance table-hover">
          <tbody>
          <tr>
            <th><i class="icon_profile"></i> 姓名</th>
            {#                <th><i class="icon_calendar"></i> 日期</th>#}
            <th><i class="icon_mail_alt"></i> Email</th>
            {#                <th><i class="icon_pin_alt"></i> City</th>#}
            <th><i class="icon_mobile"></i> 手机</th>
            <th><i class="icon_group"></i> 角色</th>
            <th><i class="icon_cogs"></i> Action</th>
          </tr>
          {% for user in users.items %}
            <tr>
              <td>{{ user.username }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.phone }}</td>
              <td>{{ user.role }}</td>
              <td>
                <div class="btn-group">
                  <a class="btn btn-primary" href="#"><i class="icon_plus_alt2"></i></a>
                  <a class="btn btn-success" href="{{ url_for('admin.users_edit', id=user.id) }}"><i class="icon_check_alt2"></i></a>
                  <a class="btn btn-danger" href="{{ url_for('admin.users_one_delete', id=user.id) }}"><i class="icon_close_alt2"></i></a>
                </div>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
        {{ items.paginate(users) }}
      </section>
    </div>
  </div>
{% endblock %}
